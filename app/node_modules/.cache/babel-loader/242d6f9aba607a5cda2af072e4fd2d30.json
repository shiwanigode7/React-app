{"ast":null,"code":"function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from \"react\";\nimport Proptypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography, Popover, Box } from \"@material-ui/core\";\nimport { signout } from \"../../data/requests/proxy\";\nimport { Button } from \"@esko/cloud-ui-components\";\nimport LogoutIcon from \"@material-ui/icons/ExitToApp\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    confirmPopover: {\n      marginTop: theme.spacing(0.5),\n      textAlign: \"center\"\n    }\n  };\n});\n\nvar LogoutButton = function LogoutButton(_a) {\n  var icon = _a.icon,\n      text = _a.text,\n      _a$color = _a.color,\n      color = _a$color === void 0 ? \"secondary\" : _a$color,\n      confirm = _a.confirm,\n      confirmMesssage = _a.confirmMesssage,\n      confirmYes = _a.confirmYes,\n      confirmNo = _a.confirmNo,\n      onLogout = _a.onLogout,\n      onError = _a.onError,\n      logoutFromName = _a.logoutFromName,\n      loginRedirect = _a.loginRedirect,\n      otherProps = __rest(_a, [\"icon\", \"text\", \"color\", \"confirm\", \"confirmMesssage\", \"confirmYes\", \"confirmNo\", \"onLogout\", \"onError\", \"logoutFromName\", \"loginRedirect\"]);\n\n  var calculatedIcon = icon || /*#__PURE__*/React.createElement(LogoutIcon, null);\n  var calculatedText = typeof text !== \"undefined\" ? text : \"Sign Out\";\n  var calculatedConfirmMessage = confirmMesssage || \"Sign Out?\";\n  var calculatedConfirmYes = confirmYes || \"Yes\";\n  var calculatedConfirmNo = confirmNo || \"No\";\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      pop = _React$useState2[0],\n      setPop = _React$useState2[1];\n\n  var closePopover = function closePopover() {\n    setPop(null);\n  };\n\n  var openPopover = function openPopover(e) {\n    setPop(e.target);\n  };\n\n  var handleLogout = function handleLogout() {\n    if (typeof onLogout === \"function\") {\n      onLogout({\n        onError: onError,\n        logoutFromName: logoutFromName,\n        loginRedirect: loginRedirect\n      });\n    } else {\n      signout({\n        onError: onError,\n        logoutFromName: logoutFromName,\n        loginRedirect: loginRedirect\n      });\n    }\n  };\n\n  var handleClick = confirm ? openPopover : handleLogout;\n  var classes = useStyles();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    startIcon: calculatedIcon,\n    color: color,\n    className: otherProps === null || otherProps === void 0 ? void 0 : otherProps.className,\n    onClick: handleClick\n  }, calculatedText), confirm && /*#__PURE__*/React.createElement(Popover, {\n    id: \"logout-button-confirm\",\n    open: Boolean(pop),\n    anchorEl: pop,\n    onClose: closePopover,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"center\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"center\"\n    },\n    className: clsx(classes.confirmPopover)\n  }, /*#__PURE__*/React.createElement(Box, {\n    p: 2\n  }, /*#__PURE__*/React.createElement(Typography, {\n    paragraph: true\n  }, calculatedConfirmMessage), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      closePopover();\n      handleLogout();\n    }\n  }, calculatedConfirmYes), \" \", /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: closePopover\n  }, calculatedConfirmNo))));\n};\n\nexport default LogoutButton;\nLogoutButton.propTypes = {\n  icon: Proptypes.oneOfType([Proptypes.string, Proptypes.elementType]),\n  text: Proptypes.string,\n  color: Proptypes.oneOf([\"secondary\", \"primary\"]),\n  confirm: Proptypes.bool,\n  confirmMesssage: Proptypes.string,\n  confirmYes: Proptypes.string,\n  confirmNo: Proptypes.string,\n  onError: Proptypes.func,\n  onLogout: Proptypes.func,\n  logoutFromName: Proptypes.string,\n  loginRedirect: Proptypes.string\n};","map":{"version":3,"sources":["../../../../src/components/LogoutButton/logoutButton.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from \"react\";\nimport Proptypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography, Popover, Box } from \"@material-ui/core\";\nimport { signout } from \"../../data/requests/proxy\";\nimport { Button } from \"@esko/cloud-ui-components\";\nimport LogoutIcon from \"@material-ui/icons/ExitToApp\";\nconst useStyles = makeStyles(theme => ({\n    confirmPopover: {\n        marginTop: theme.spacing(0.5),\n        textAlign: \"center\"\n    }\n}));\nconst LogoutButton = (_a) => {\n    var { icon, text, color = \"secondary\", confirm, confirmMesssage, confirmYes, confirmNo, onLogout, onError, logoutFromName, loginRedirect } = _a, otherProps = __rest(_a, [\"icon\", \"text\", \"color\", \"confirm\", \"confirmMesssage\", \"confirmYes\", \"confirmNo\", \"onLogout\", \"onError\", \"logoutFromName\", \"loginRedirect\"]);\n    const calculatedIcon = icon || React.createElement(LogoutIcon, null);\n    const calculatedText = typeof text !== \"undefined\" ? text : \"Sign Out\";\n    const calculatedConfirmMessage = confirmMesssage || \"Sign Out?\";\n    const calculatedConfirmYes = confirmYes || \"Yes\";\n    const calculatedConfirmNo = confirmNo || \"No\";\n    const [pop, setPop] = React.useState(null);\n    const closePopover = () => {\n        setPop(null);\n    };\n    const openPopover = e => {\n        setPop(e.target);\n    };\n    const handleLogout = () => {\n        if (typeof onLogout === \"function\") {\n            onLogout({ onError, logoutFromName, loginRedirect });\n        }\n        else {\n            signout({ onError, logoutFromName, loginRedirect });\n        }\n    };\n    const handleClick = confirm ? openPopover : handleLogout;\n    const classes = useStyles();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { startIcon: calculatedIcon, color: color, className: otherProps === null || otherProps === void 0 ? void 0 : otherProps.className, onClick: handleClick }, calculatedText),\n        confirm && (React.createElement(Popover, { id: \"logout-button-confirm\", open: Boolean(pop), anchorEl: pop, onClose: closePopover, anchorOrigin: {\n                vertical: \"bottom\",\n                horizontal: \"center\"\n            }, transformOrigin: {\n                vertical: \"top\",\n                horizontal: \"center\"\n            }, className: clsx(classes.confirmPopover) },\n            React.createElement(Box, { p: 2 },\n                React.createElement(Typography, { paragraph: true }, calculatedConfirmMessage),\n                React.createElement(Button, { color: \"secondary\", onClick: () => {\n                        closePopover();\n                        handleLogout();\n                    } }, calculatedConfirmYes),\n                \" \",\n                React.createElement(Button, { color: \"secondary\", onClick: closePopover }, calculatedConfirmNo))))));\n};\nexport default LogoutButton;\nLogoutButton.propTypes = {\n    icon: Proptypes.oneOfType([Proptypes.string, Proptypes.elementType]),\n    text: Proptypes.string,\n    color: Proptypes.oneOf([\"secondary\", \"primary\"]),\n    confirm: Proptypes.bool,\n    confirmMesssage: Proptypes.string,\n    confirmYes: Proptypes.string,\n    confirmNo: Proptypes.string,\n    onError: Proptypes.func,\n    onLogout: Proptypes.func,\n    logoutFromName: Proptypes.string,\n    loginRedirect: Proptypes.string\n};\n//# sourceMappingURL=logoutButton.js.map"]},"metadata":{},"sourceType":"module"}