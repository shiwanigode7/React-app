{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useEffect } from \"react\";\nimport Proptypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { Box, Typography, IconButton, FormControlLabel, Switch, InputLabel, LinearProgress } from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/EditRounded\";\nimport SaveVal from \"@material-ui/icons/CheckCircle\";\nimport CancelVal from \"@material-ui/icons/Cancel\";\nimport { Input, Select } from \"@esko/cloud-ui-components\";\nvar useStyles = makeStyles(function (Theme) {\n  return {\n    formItemCheckbox: {\n      paddingBottom: Theme.spacing(1)\n    },\n    editableField: {\n      cursor: \"pointer\",\n      position: \"relative\",\n      \"&:hover\": {\n        background: Theme.palette.action.hover,\n        \"& $horizontalConfigLabel\": {\n          cursor: \"pointer\"\n        },\n        \"& $editFieldIcon\": {\n          display: \"block\"\n        }\n      }\n    },\n    editFieldIcon: {\n      position: \"absolute\",\n      top: \"50%\",\n      marginTop: -Theme.spacing(1),\n      right: Theme.spacing(0.5),\n      display: \"none\"\n    },\n    fieldReadStateValue: {\n      paddingTop: Theme.spacing(3),\n      minWidth: \"0px\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      fontSize: \"0.875rem\"\n    },\n    fullInput: {\n      flex: 1,\n      maxWidth: \"100%\"\n    },\n    formItem: {\n      marginBottom: Theme.spacing(2),\n      paddingTop: Theme.spacing(0.5),\n      paddingBottom: Theme.spacing(0.5),\n      paddingLeft: Theme.spacing(0.5),\n      paddingRight: Theme.spacing(0.5)\n    },\n    checkboxInput: {\n      paddingLeft: Theme.spacing(1.5)\n    },\n    checkboxInputNoHorizontal: {\n      marginTop: 20\n    },\n    changeBtns: {\n      marginBottom: -Theme.spacing(1.5),\n      textAlign: \"right\"\n    },\n    horizontalConfig: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      flexWrap: \"wrap\"\n    },\n    horizontalConfigLabel: {\n      width: 70,\n      position: \"static\",\n      display: \"flex\",\n      fontSize: 14,\n      fontWeight: \"normal\"\n    },\n    horizontalConfigValue: {\n      position: \"static\",\n      flex: 1,\n      width: \"100%\",\n      padding: 0,\n      \"& > div\": {\n        marginTop: 0\n      }\n    },\n    horizontalConfigValueSelect: {\n      marginTop: 0\n    },\n    horizontalConfigConfirm: {\n      margin: 0\n    },\n    horizontalConfigInput: {\n      marginTop: 0\n    },\n    savingBar: {\n      width: \"100%\"\n    }\n  };\n});\n\nvar PropertyField = function PropertyField(_ref) {\n  var _clsx8;\n\n  var label = _ref.label,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      options = _ref.options,\n      _ref$readOnly = _ref.readOnly,\n      readOnly = _ref$readOnly === void 0 ? false : _ref$readOnly,\n      type = _ref.type,\n      value = _ref.value,\n      horizontal = _ref.horizontal,\n      labelClassName = _ref.labelClassName,\n      objectId = _ref.objectId,\n      inputComponent = _ref.inputComponent;\n\n  var _React$useState = React.useState({\n    on: false,\n    value: \"\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      editing = _React$useState2[0],\n      setEditing = _React$useState2[1];\n\n  var initiateValue = function initiateValue() {\n    setEditing({\n      saving: false,\n      on: false,\n      value: value\n    });\n  };\n\n  useEffect(initiateValue, [value, objectId]);\n\n  var initEditField = function initEditField() {\n    setEditing(function (currEditing) {\n      return Object.assign(Object.assign({}, currEditing), {\n        on: true\n      });\n    });\n  };\n\n  var resetEditField = function resetEditField(e) {\n    if (e) {\n      e.stopPropagation();\n    }\n\n    setEditing(function (currEditing) {\n      return {\n        value: value,\n        on: false\n      };\n    });\n  };\n\n  var handleOnChange = React.useCallback(function (e) {\n    if (e) {\n      e.stopPropagation();\n    }\n\n    if (value === editing.value) {\n      return false;\n    }\n\n    var saving = false;\n\n    if (typeof onChange === \"function\") {\n      onChange(_defineProperty({}, name, editing.value));\n      saving = true;\n    }\n\n    setEditing(function (currEditing) {\n      return Object.assign(Object.assign({}, currEditing), {\n        saving: saving,\n        on: false\n      });\n    });\n  }, [editing]);\n  var handleOnCheckboxChange = React.useCallback(function (e) {\n    if (e) {\n      e.stopPropagation();\n    }\n\n    var newValue = getCheckBoxValue(e.target.checked);\n\n    if (newValue === value) {\n      return false;\n    }\n\n    setEditing(function (currEditing) {\n      return {\n        value: newValue,\n        saving: true,\n        on: false\n      };\n    });\n\n    if (typeof onChange === \"function\") {\n      onChange(_defineProperty({}, name, newValue));\n    }\n  }, [editing]);\n\n  var getCheckBoxValue = function getCheckBoxValue(checked) {\n    var _a, _b;\n\n    return checked ? (_a = options === null || options === void 0 ? void 0 : options.on) === null || _a === void 0 ? void 0 : _a.value : (_b = options === null || options === void 0 ? void 0 : options.off) === null || _b === void 0 ? void 0 : _b.value;\n  };\n\n  var handleKeyPress = function handleKeyPress(name, value, e) {\n    if (e.keyCode == 13 || e.keyCode == 27) {\n      //Enter Key OR ESC key\n      e.stopPropagation();\n      e.preventDefault();\n      e.keyCode == 13 ? handleOnChange() : resetEditField();\n    }\n  };\n\n  var handleChangeEditing = function handleChangeEditing(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var value = e.target.value || \"\";\n    setEditing(function (currEditing) {\n      return Object.assign(Object.assign({}, currEditing), {\n        value: value\n      });\n    });\n  };\n\n  var classes = useStyles();\n\n  var renderSelectField = function renderSelectField() {\n    if (!label || !(options && options.length)) {\n      return false;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Select, {\n      id: name + \"_id\",\n      name: name,\n      onChange: handleChangeEditing,\n      autoFocus: true,\n      value: editing.value,\n      className: clsx(classes.fullInput, _defineProperty({}, classes.horizontalConfigValueSelect, horizontal))\n    }, options.map(function (opt, i) {\n      if (!opt.value && !opt.display || typeof opt.show != \"undefined\" && !opt.show) {\n        return false;\n      }\n\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: i,\n        value: opt.value || opt.display\n      }, opt.display || opt.value);\n    })), /*#__PURE__*/React.createElement(Box, {\n      className: clsx(_defineProperty({}, classes.changeBtns, !horizontal))\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: resetEditField\n    }, /*#__PURE__*/React.createElement(CancelVal, null)), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      disabled: editing.value === value,\n      onClick: handleOnChange\n    }, /*#__PURE__*/React.createElement(SaveVal, null))));\n  };\n\n  var renderCheckbox = function renderCheckbox() {\n    var _a, _b, _c;\n\n    if (!label || !options || !options.on || !options.off) {\n      return false;\n    }\n\n    var isOn = editing.value === ((_a = options === null || options === void 0 ? void 0 : options.on) === null || _a === void 0 ? void 0 : _a.value);\n    return /*#__PURE__*/React.createElement(FormControlLabel, {\n      className: clsx(classes.checkboxInput, _defineProperty({}, classes.checkboxInputNoHorizontal, !horizontal)),\n      control: /*#__PURE__*/React.createElement(Switch, {\n        disabled: readOnly,\n        checked: isOn,\n        onChange: handleOnCheckboxChange,\n        name: name,\n        color: \"primary\"\n      }),\n      label: isOn ? (_b = options === null || options === void 0 ? void 0 : options.on) === null || _b === void 0 ? void 0 : _b.text : (_c = options === null || options === void 0 ? void 0 : options.off) === null || _c === void 0 ? void 0 : _c.text,\n      key: \"switch_field_\" + label\n    });\n  };\n\n  var renderTextField = function renderTextField(fieldConf) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, {\n      id: name + \"_id\",\n      name: name,\n      value: editing.value,\n      autoFocus: true,\n      type: \"text\",\n      onChange: handleChangeEditing,\n      onKeyDown: function onKeyDown(e) {\n        return handleKeyPress(name, editing.value, e);\n      },\n      inputProps: {\n        name: name,\n        className: clsx(_defineProperty({}, classes.horizontalConfigInput, horizontal))\n      },\n      className: clsx(classes.fullInput, _defineProperty({}, classes.horizontalConfigValue, horizontal))\n    }), /*#__PURE__*/React.createElement(Box, {\n      className: clsx(classes.changeBtns, _defineProperty({}, classes.horizontalConfigConfirm, horizontal))\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: resetEditField\n    }, /*#__PURE__*/React.createElement(CancelVal, null)), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      disabled: editing.value === value,\n      onClick: handleOnChange\n    }, /*#__PURE__*/React.createElement(SaveVal, null))));\n  };\n\n  var renderEditableField = function renderEditableField() {\n    switch (type) {\n      case \"select\":\n        return renderSelectField();\n\n      case \"text\":\n        return renderTextField();\n\n      case \"checkbox\":\n        return renderCheckbox();\n\n      default:\n        return false;\n    }\n  };\n\n  var renderField = function renderField() {\n    return editing.on && !editing.saving || type === \"checkbox\" ? renderEditableField() : /*#__PURE__*/React.createElement(Typography, {\n      title: displayValue,\n      variant: \"subtitle1\",\n      className: clsx(classes.fieldReadStateValue, _defineProperty({}, classes.horizontalConfigValue, horizontal))\n    }, displayValue, /*#__PURE__*/React.createElement(EditIcon, {\n      className: clsx(classes.editFieldIcon),\n      fontSize: \"small\"\n    }));\n  };\n\n  var getDisplayValue = function getDisplayValue(type, options) {\n    var _a;\n\n    var dispValue = \"--\";\n\n    switch (type) {\n      case \"text\":\n        {\n          dispValue = editing.value || \"--\";\n        }\n        break;\n\n      case \"select\":\n        {\n          var storedValue = editing.value || \"\";\n          var valuePair = options.filter(function (opt) {\n            return opt.value === storedValue;\n          });\n          dispValue = Array.isArray(valuePair) && ((_a = valuePair[0]) === null || _a === void 0 ? void 0 : _a.display) || \"--\";\n        }\n    }\n\n    return dispValue;\n  };\n\n  var displayValue = getDisplayValue(type, options);\n  var isCheckbox = [\"checkbox\"].indexOf(type) > -1;\n  return /*#__PURE__*/React.createElement(FormControl, {\n    onClick: readOnly || isCheckbox ? undefined : initEditField,\n    className: clsx(classes.formItem, classes.fullInput, (_clsx8 = {}, _defineProperty(_clsx8, classes.formItemCheckbox, isCheckbox), _defineProperty(_clsx8, classes.editableField, !readOnly && !isCheckbox), _defineProperty(_clsx8, classes.horizontalConfig, horizontal), _clsx8)),\n    key: \"read_field_\" + name,\n    tabIndex: 0,\n    onFocus: readOnly || isCheckbox ? undefined : initEditField\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    shrink: false,\n    htmlFor: name,\n    className: clsx(_defineProperty({}, classes.horizontalConfigLabel, horizontal), labelClassName)\n  }, label + (horizontal ? \":\" : \"\")), typeof inputComponent !== \"undefined\" ? inputComponent : renderField(), editing.saving && /*#__PURE__*/React.createElement(LinearProgress, {\n    color: \"primary\",\n    className: clsx(classes.savingBar)\n  }));\n};\n\nexport default PropertyField;\nPropertyField.propTypes = {\n  name: Proptypes.string,\n  label: Proptypes.string,\n  onChange: Proptypes.func,\n  readOnly: Proptypes.bool,\n  type: Proptypes.oneOf([\"checkbox\", \"text\", \"select\"]),\n  options: Proptypes.oneOfType([Proptypes.arrayOf(Proptypes.shape({\n    display: Proptypes.string,\n    value: Proptypes.string\n  })), Proptypes.shape({\n    on: Proptypes.shape({\n      text: Proptypes.string,\n      value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n    }),\n    off: Proptypes.shape({\n      text: Proptypes.string,\n      value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n    })\n  })]),\n  value: Proptypes.oneOfType([Proptypes.string, Proptypes.number, Proptypes.bool]),\n  horizontal: Proptypes.bool,\n  labelClassName: Proptypes.string,\n  objectId: Proptypes.string,\n  inputComponent: Proptypes.elementType\n};","map":{"version":3,"sources":["../../../../src/components/ObjectView/propertyField.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React, { useEffect } from \"react\";\nimport Proptypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { Box, Typography, IconButton, FormControlLabel, Switch, InputLabel, LinearProgress } from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/EditRounded\";\nimport SaveVal from \"@material-ui/icons/CheckCircle\";\nimport CancelVal from \"@material-ui/icons/Cancel\";\nimport { Input, Select } from \"@esko/cloud-ui-components\";\nconst useStyles = makeStyles(Theme => ({\n    formItemCheckbox: {\n        paddingBottom: Theme.spacing(1)\n    },\n    editableField: {\n        cursor: \"pointer\",\n        position: \"relative\",\n        \"&:hover\": {\n            background: Theme.palette.action.hover,\n            \"& $horizontalConfigLabel\": {\n                cursor: \"pointer\"\n            },\n            \"& $editFieldIcon\": {\n                display: \"block\"\n            }\n        }\n    },\n    editFieldIcon: {\n        position: \"absolute\",\n        top: \"50%\",\n        marginTop: -Theme.spacing(1),\n        right: Theme.spacing(0.5),\n        display: \"none\"\n    },\n    fieldReadStateValue: {\n        paddingTop: Theme.spacing(3),\n        minWidth: \"0px\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        fontSize: \"0.875rem\"\n    },\n    fullInput: {\n        flex: 1,\n        maxWidth: \"100%\"\n    },\n    formItem: {\n        marginBottom: Theme.spacing(2),\n        paddingTop: Theme.spacing(0.5),\n        paddingBottom: Theme.spacing(0.5),\n        paddingLeft: Theme.spacing(0.5),\n        paddingRight: Theme.spacing(0.5)\n    },\n    checkboxInput: {\n        paddingLeft: Theme.spacing(1.5)\n    },\n    checkboxInputNoHorizontal: {\n        marginTop: 20\n    },\n    changeBtns: {\n        marginBottom: -Theme.spacing(1.5),\n        textAlign: \"right\"\n    },\n    horizontalConfig: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        flexWrap: \"wrap\"\n    },\n    horizontalConfigLabel: {\n        width: 70,\n        position: \"static\",\n        display: \"flex\",\n        fontSize: 14,\n        fontWeight: \"normal\"\n    },\n    horizontalConfigValue: {\n        position: \"static\",\n        flex: 1,\n        width: \"100%\",\n        padding: 0,\n        \"& > div\": {\n            marginTop: 0\n        }\n    },\n    horizontalConfigValueSelect: {\n        marginTop: 0\n    },\n    horizontalConfigConfirm: {\n        margin: 0\n    },\n    horizontalConfigInput: {\n        marginTop: 0\n    },\n    savingBar: {\n        width: \"100%\"\n    }\n}));\nconst PropertyField = ({ label, name, onChange, options, readOnly = false, type, value, horizontal, labelClassName, objectId, inputComponent }) => {\n    const [editing, setEditing] = React.useState({\n        on: false,\n        value: \"\"\n    });\n    const initiateValue = () => {\n        setEditing({\n            saving: false,\n            on: false,\n            value: value\n        });\n    };\n    useEffect(initiateValue, [value, objectId]);\n    const initEditField = () => {\n        setEditing(currEditing => (Object.assign(Object.assign({}, currEditing), { on: true })));\n    };\n    const resetEditField = e => {\n        if (e) {\n            e.stopPropagation();\n        }\n        setEditing(currEditing => ({\n            value: value,\n            on: false\n        }));\n    };\n    const handleOnChange = React.useCallback(e => {\n        if (e) {\n            e.stopPropagation();\n        }\n        if (value === editing.value) {\n            return false;\n        }\n        let saving = false;\n        if (typeof onChange === \"function\") {\n            onChange({ [name]: editing.value });\n            saving = true;\n        }\n        setEditing(currEditing => (Object.assign(Object.assign({}, currEditing), { saving: saving, on: false })));\n    }, [editing]);\n    const handleOnCheckboxChange = React.useCallback(e => {\n        if (e) {\n            e.stopPropagation();\n        }\n        const newValue = getCheckBoxValue(e.target.checked);\n        if (newValue === value) {\n            return false;\n        }\n        setEditing(currEditing => ({\n            value: newValue,\n            saving: true,\n            on: false\n        }));\n        if (typeof onChange === \"function\") {\n            onChange({ [name]: newValue });\n        }\n    }, [editing]);\n    const getCheckBoxValue = checked => {\n        var _a, _b;\n        return checked ? (_a = options === null || options === void 0 ? void 0 : options.on) === null || _a === void 0 ? void 0 : _a.value : (_b = options === null || options === void 0 ? void 0 : options.off) === null || _b === void 0 ? void 0 : _b.value;\n    };\n    const handleKeyPress = (name, value, e) => {\n        if (e.keyCode == 13 || e.keyCode == 27) {\n            //Enter Key OR ESC key\n            e.stopPropagation();\n            e.preventDefault();\n            e.keyCode == 13 ? handleOnChange() : resetEditField();\n        }\n    };\n    const handleChangeEditing = e => {\n        e.stopPropagation();\n        e.preventDefault();\n        const value = e.target.value || \"\";\n        setEditing(currEditing => (Object.assign(Object.assign({}, currEditing), { value })));\n    };\n    const classes = useStyles();\n    const renderSelectField = () => {\n        if (!label || !(options && options.length)) {\n            return false;\n        }\n        return (React.createElement(React.Fragment, null,\n            React.createElement(Select, { id: name + \"_id\", name: name, onChange: handleChangeEditing, autoFocus: true, value: editing.value, className: clsx(classes.fullInput, { [classes.horizontalConfigValueSelect]: horizontal }) }, options.map((opt, i) => {\n                if ((!opt.value && !opt.display) || (typeof opt.show != \"undefined\" && !opt.show)) {\n                    return false;\n                }\n                return (React.createElement(MenuItem, { key: i, value: opt.value || opt.display }, opt.display || opt.value));\n            })),\n            React.createElement(Box, { className: clsx({ [classes.changeBtns]: !horizontal }) },\n                React.createElement(IconButton, { size: \"small\", onClick: resetEditField },\n                    React.createElement(CancelVal, null)),\n                React.createElement(IconButton, { size: \"small\", disabled: editing.value === value, onClick: handleOnChange },\n                    React.createElement(SaveVal, null)))));\n    };\n    const renderCheckbox = () => {\n        var _a, _b, _c;\n        if (!label || !options || !options.on || !options.off) {\n            return false;\n        }\n        const isOn = editing.value === ((_a = options === null || options === void 0 ? void 0 : options.on) === null || _a === void 0 ? void 0 : _a.value);\n        return (React.createElement(FormControlLabel, { className: clsx(classes.checkboxInput, { [classes.checkboxInputNoHorizontal]: !horizontal }), control: React.createElement(Switch, { disabled: readOnly, checked: isOn, onChange: handleOnCheckboxChange, name: name, color: \"primary\" }), label: isOn ? (_b = options === null || options === void 0 ? void 0 : options.on) === null || _b === void 0 ? void 0 : _b.text : (_c = options === null || options === void 0 ? void 0 : options.off) === null || _c === void 0 ? void 0 : _c.text, key: \"switch_field_\" + label }));\n    };\n    const renderTextField = fieldConf => {\n        return (React.createElement(React.Fragment, null,\n            React.createElement(Input, { id: name + \"_id\", name: name, value: editing.value, autoFocus: true, type: \"text\", onChange: handleChangeEditing, onKeyDown: e => handleKeyPress(name, editing.value, e), inputProps: {\n                    name: name,\n                    className: clsx({ [classes.horizontalConfigInput]: horizontal })\n                }, className: clsx(classes.fullInput, { [classes.horizontalConfigValue]: horizontal }) }),\n            React.createElement(Box, { className: clsx(classes.changeBtns, { [classes.horizontalConfigConfirm]: horizontal }) },\n                React.createElement(IconButton, { size: \"small\", onClick: resetEditField },\n                    React.createElement(CancelVal, null)),\n                React.createElement(IconButton, { size: \"small\", disabled: editing.value === value, onClick: handleOnChange },\n                    React.createElement(SaveVal, null)))));\n    };\n    const renderEditableField = () => {\n        switch (type) {\n            case \"select\":\n                return renderSelectField();\n            case \"text\":\n                return renderTextField();\n            case \"checkbox\":\n                return renderCheckbox();\n            default:\n                return false;\n        }\n    };\n    const renderField = () => {\n        return (editing.on && !editing.saving) || type === \"checkbox\" ? (renderEditableField()) : (React.createElement(Typography, { title: displayValue, variant: \"subtitle1\", className: clsx(classes.fieldReadStateValue, { [classes.horizontalConfigValue]: horizontal }) },\n            displayValue,\n            React.createElement(EditIcon, { className: clsx(classes.editFieldIcon), fontSize: \"small\" })));\n    };\n    const getDisplayValue = (type, options) => {\n        var _a;\n        let dispValue = \"--\";\n        switch (type) {\n            case \"text\":\n                {\n                    dispValue = editing.value || \"--\";\n                }\n                break;\n            case \"select\": {\n                const storedValue = editing.value || \"\";\n                const valuePair = options.filter(opt => opt.value === storedValue);\n                dispValue = (Array.isArray(valuePair) && ((_a = valuePair[0]) === null || _a === void 0 ? void 0 : _a.display)) || \"--\";\n            }\n        }\n        return dispValue;\n    };\n    let displayValue = getDisplayValue(type, options);\n    const isCheckbox = [\"checkbox\"].indexOf(type) > -1;\n    return (React.createElement(FormControl, { onClick: readOnly || isCheckbox ? undefined : initEditField, className: clsx(classes.formItem, classes.fullInput, {\n            [classes.formItemCheckbox]: isCheckbox,\n            [classes.editableField]: !readOnly && !isCheckbox,\n            [classes.horizontalConfig]: horizontal\n        }), key: \"read_field_\" + name, tabIndex: 0, onFocus: readOnly || isCheckbox ? undefined : initEditField },\n        React.createElement(InputLabel, { shrink: false, htmlFor: name, className: clsx({ [classes.horizontalConfigLabel]: horizontal }, labelClassName) }, label + (horizontal ? \":\" : \"\")),\n        typeof inputComponent !== \"undefined\" ? inputComponent : renderField(),\n        editing.saving && React.createElement(LinearProgress, { color: \"primary\", className: clsx(classes.savingBar) })));\n};\nexport default PropertyField;\nPropertyField.propTypes = {\n    name: Proptypes.string,\n    label: Proptypes.string,\n    onChange: Proptypes.func,\n    readOnly: Proptypes.bool,\n    type: Proptypes.oneOf([\"checkbox\", \"text\", \"select\"]),\n    options: Proptypes.oneOfType([\n        Proptypes.arrayOf(Proptypes.shape({\n            display: Proptypes.string,\n            value: Proptypes.string\n        })),\n        Proptypes.shape({\n            on: Proptypes.shape({\n                text: Proptypes.string,\n                value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n            }),\n            off: Proptypes.shape({\n                text: Proptypes.string,\n                value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n            })\n        })\n    ]),\n    value: Proptypes.oneOfType([Proptypes.string, Proptypes.number, Proptypes.bool]),\n    horizontal: Proptypes.bool,\n    labelClassName: Proptypes.string,\n    objectId: Proptypes.string,\n    inputComponent: Proptypes.elementType\n};\n//# sourceMappingURL=propertyField.js.map"]},"metadata":{},"sourceType":"module"}