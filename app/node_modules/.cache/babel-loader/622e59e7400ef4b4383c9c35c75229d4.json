{"ast":null,"code":"function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport Proptypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Settings from \"@material-ui/icons/Settings\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport { AppSwitcher, Users, Groups, UserProfile, AppBadge, ConnectedAppBadge, ComponentsDataContext, SideNav } from \"@esko/cloud-ui-components\";\nimport { Divider, List, ListItemText, ListItem, ListItemAvatar, Avatar } from \"@material-ui/core\";\nvar drawerWidth = 64;\nvar drawerCollapsedWidth = 50;\nexport var Variants = {\n  COLLAPSIBLE: \"collapsible\",\n  MINIMAL: \"minimal\"\n};\n\nvar validateAndDefaultNumber = function validateAndDefaultNumber(value, defaultValue) {\n  return !isNaN(parseInt(value, 10)) ? parseInt(value, 10) : defaultValue;\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    drawer: function drawer(props) {\n      return {\n        width: validateAndDefaultNumber(props.width || \"\", drawerWidth),\n        flexShrink: 0,\n        whiteSpace: \"break-word\",\n        position: \"relative\"\n      };\n    },\n    drawerOpen: function drawerOpen(props) {\n      return {\n        width: validateAndDefaultNumber(props.width, drawerWidth),\n        transition: theme.transitions.create(\"width\", {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.enteringScreen\n        })\n      };\n    },\n    itemsContainer: function itemsContainer(props) {\n      return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        flex: 1\n      };\n    },\n    legalBadge: {\n      bottom: 0,\n      backgroundColor: \"inherit\",\n      width: \"100%\"\n    },\n    leftNavBackground: {\n      backgroundColor: theme.palette.leftNavBackground || theme.palette.background.paper,\n      border: \"none\"\n    },\n    secondaryLeftNav: {\n      backgroundColor: theme.palette.leftNavBackground || theme.palette.background.paper,\n      border: \"none\",\n      borderLeft: \"1px solid\",\n      borderLeftColor: theme.palette.type === \"light\" ? theme.palette.grey[200] : theme.palette.action.selected\n    },\n    paperBackground: {\n      backgroundColor: theme.palette.type === \"light\" ? \"white\" : theme.palette.action.selected,\n      border: \"none\"\n    },\n    userProfileContainer: {\n      paddingBottom: 0,\n      paddingTop: 0,\n      justifyContent: \"center\"\n    }\n  };\n});\n\nvar LeftNav = function LeftNav(_ref) {\n  var _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 64 : _ref$width,\n      _ref$userProfile = _ref.userProfile,\n      userProfile = _ref$userProfile === void 0 ? {} : _ref$userProfile,\n      _ref$appSwitcher = _ref.appSwitcher,\n      appSwitcher = _ref$appSwitcher === void 0 ? {} : _ref$appSwitcher,\n      _ref$useEllipsis = _ref.useEllipsis,\n      useEllipsis = _ref$useEllipsis === void 0 ? true : _ref$useEllipsis,\n      _ref$appBadge = _ref.appBadge,\n      appBadge = _ref$appBadge === void 0 ? {} : _ref$appBadge,\n      repoId = _ref.repoId,\n      onError = _ref.onError,\n      language = _ref.language;\n\n  var _a, _b, _c, _d;\n\n  var userBadge = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.userBadge) || {};\n  var userInfo = ((_a = userProfile === null || userProfile === void 0 ? void 0 : userProfile.userBadge) === null || _a === void 0 ? void 0 : _a.userInfo) || {};\n  var showLegalBadge = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.showLegalBadge) || false;\n  var cloudLogout = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.cloudLogout) || false;\n  var bottomContent = userProfile === null || userProfile === void 0 ? void 0 : userProfile.bottomContent;\n  var classes = useStyles({\n    width: width\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState({\n    appSwitcher: appSwitcher,\n    userProfile: Object.assign(Object.assign({}, userProfile), {\n      userBadge: Object.assign(Object.assign({}, userBadge), {\n        userInfo: userInfo,\n        variant: \"avatarOnly\"\n      }),\n      showLegalBadge: showLegalBadge,\n      cloudLogout: cloudLogout,\n      bottomContent: bottomContent\n    }),\n    language: \"\"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      menuState = _useState4[0],\n      setMenuState = _useState4[1];\n\n  var compData = useContext(ComponentsDataContext);\n  /* context data kikcks in */\n\n  useEffect(function () {\n    if (!!compData) {\n      // a better overwrite method should be here\n      setMenuState(function (currMenuState) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;\n\n        var newMenuState = Object.assign(Object.assign({}, currMenuState), {\n          appSwitcher: Object.assign(Object.assign({}, currMenuState.appSwitcher), {\n            organization: appSwitcher.organization || compData.organization || ((_b = (_a = compData === null || compData === void 0 ? void 0 : compData.users) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.organizationID) || \"\",\n            workspace: appSwitcher.workspace || compData.workspace || \"\"\n          }),\n          userProfile: Object.assign(Object.assign({}, currMenuState.userProfile), {\n            userBadge: Object.assign(Object.assign({}, currMenuState.userProfile.userBadge), {\n              userInfo: _defineProperty({\n                avatar: userInfo.avatar || ((_d = (_c = compData === null || compData === void 0 ? void 0 : compData.users) === null || _c === void 0 ? void 0 : _c.current) === null || _d === void 0 ? void 0 : _d.avatar),\n                firstName: userInfo.firstName || ((_f = (_e = compData === null || compData === void 0 ? void 0 : compData.users) === null || _e === void 0 ? void 0 : _e.current) === null || _f === void 0 ? void 0 : _f.firstName),\n                lastName: userInfo.lastName || ((_h = (_g = compData === null || compData === void 0 ? void 0 : compData.users) === null || _g === void 0 ? void 0 : _g.current) === null || _h === void 0 ? void 0 : _h.lastName),\n                displayName: userInfo.displayName || ((_k = (_j = compData === null || compData === void 0 ? void 0 : compData.users) === null || _j === void 0 ? void 0 : _j.current) === null || _k === void 0 ? void 0 : _k.displayName),\n                description: userInfo.description || ((_m = (_l = compData === null || compData === void 0 ? void 0 : compData.users) === null || _l === void 0 ? void 0 : _l.current) === null || _m === void 0 ? void 0 : _m.description)\n              }, \"description\", userInfo.description || ((_p = (_o = compData === null || compData === void 0 ? void 0 : compData.users) === null || _o === void 0 ? void 0 : _o.current) === null || _p === void 0 ? void 0 : _p.description))\n            })\n          }),\n          language: language || ((_r = (_q = compData === null || compData === void 0 ? void 0 : compData.users) === null || _q === void 0 ? void 0 : _q.current) === null || _r === void 0 ? void 0 : _r.userLanguage)\n        });\n        return newMenuState;\n      });\n    }\n\n    if (compData === null || compData === void 0 ? void 0 : compData.error) {\n      handleOnError(compData.error);\n    }\n  }, [compData]);\n\n  var handleOnError = function handleOnError(error) {\n    var _a;\n\n    if (error && typeof onError === \"function\") {\n      var _error = compData.error;\n      var contentType = (_a = _error === null || _error === void 0 ? void 0 : _error.headers) === null || _a === void 0 ? void 0 : _a.get(\"content-type\");\n      var status = _error.status;\n      console.log(_error, contentType, status);\n\n      if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n        _error.json().then(function (data) {\n          return onError({\n            data: data,\n            status: status\n          });\n        });\n      } else if (_error.text) {\n        _error.text().then(function (data) {\n          return onError({\n            data: data,\n            status: status\n          });\n        });\n      } else {\n        onError({\n          status: status,\n          error: _error\n        });\n      }\n    }\n  };\n\n  useEffect(function () {\n    if (!!appSwitcher && Object.keys(appSwitcher).length) {\n      setMenuState(function (currMenuState) {\n        return Object.assign(Object.assign({}, currMenuState), {\n          appSwitcher: Object.assign({}, appSwitcher)\n        });\n      });\n    }\n  }, [appSwitcher]);\n  useEffect(function () {\n    var _a;\n\n    if (!!userProfile && Object.keys(userProfile).length) {\n      var newUserProfile = !!userProfile ? userProfile : {};\n      var newUserBadge = (newUserProfile === null || newUserProfile === void 0 ? void 0 : newUserProfile.userBadge) ? newUserProfile.userBadge : {};\n      var newUserInfo = ((_a = newUserProfile === null || newUserProfile === void 0 ? void 0 : newUserProfile.userBadge) === null || _a === void 0 ? void 0 : _a.userInfo) ? newUserProfile.userBadge.userInfo : {};\n      setMenuState(function (currMenuState) {\n        var newState = Object.assign(Object.assign({}, currMenuState), {\n          userProfile: Object.assign(Object.assign(Object.assign({}, currMenuState.userProfile), newUserProfile), {\n            userBadge: Object.assign(Object.assign(Object.assign({}, currMenuState.userProfile.userBadge), newUserBadge), {\n              userInfo: Object.assign(Object.assign({}, currMenuState.userProfile.userBadge.userInfo), newUserInfo),\n              variant: \"avatarOnly\"\n            })\n          })\n        });\n        return newState;\n      });\n    }\n  }, [userProfile]);\n  var calculatedRepoId = repoId ? repoId : (_c = (_b = compData === null || compData === void 0 ? void 0 : compData.users) === null || _b === void 0 ? void 0 : _b.current) === null || _c === void 0 ? void 0 : _c.repoid; //we still need to consolidate props for this component now that it's components make more sense as separated components\n\n  var calculatedOrganization = (_d = menuState === null || menuState === void 0 ? void 0 : menuState.appSwitcher) === null || _d === void 0 ? void 0 : _d.organization;\n\n  var _React$useState = React.useState({\n    open: false,\n    users: false,\n    groups: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      networkOpen = _React$useState2[0],\n      setNetworkOpen = _React$useState2[1];\n\n  var toggleOpen = function toggleOpen(open) {\n    setNetworkOpen(function (currNetOpen) {\n      return open === currNetOpen.open ? currNetOpen : {\n        open: open,\n        users: open,\n        groups: false\n      };\n    });\n  };\n\n  var toggleTabs = function toggleTabs(key) {\n    setNetworkOpen(function (currNetOpen) {\n      return Object.assign(Object.assign({}, currNetOpen), _defineProperty({\n        users: false,\n        groups: false\n      }, key, true));\n    });\n  };\n\n  var myNetworkItems = React.useCallback(function () {\n    return [{\n      isSelected: networkOpen.open,\n      nav: {\n        width: 180,\n        id: \"navOnly\",\n        title: \"My Network\",\n        itemsVariant: \"full\",\n        paperProps: {\n          className: classes.secondaryLeftNav\n        },\n        items: [{\n          text: \"Users\",\n          description: \"Manage Users\",\n          isSelected: networkOpen.users,\n          icon: /*#__PURE__*/React.createElement(PersonIcon, null),\n          onClick: function onClick() {\n            toggleTabs(\"users\");\n          },\n          nav: {\n            width: \"calc(100vw - \".concat(180 + width, \"px)\"),\n            id: \"navUsers\",\n            paperProps: {\n              className: classes.paperBackground\n            },\n            topContent: /*#__PURE__*/React.createElement(Users, {\n              repoId: calculatedRepoId,\n              organization: calculatedOrganization,\n              language: menuState.language\n            })\n          }\n        }, {\n          text: \"Groups\",\n          description: \"Manage Groups\",\n          isSelected: networkOpen.groups,\n          icon: /*#__PURE__*/React.createElement(GroupIcon, null),\n          onClick: function onClick() {\n            toggleTabs(\"groups\");\n          },\n          nav: {\n            width: \"calc(100vw - \".concat(180 + width, \"px)\"),\n            id: \"navUsers\",\n            paperProps: {\n              className: classes.paperBackground\n            },\n            topContent: /*#__PURE__*/React.createElement(Groups, {\n              repoId: calculatedRepoId,\n              organization: calculatedOrganization,\n              language: menuState.language\n            })\n          }\n        }]\n      }\n    }];\n  }, [compData, networkOpen]);\n\n  var networkButton = function networkButton(closeFlyout) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      button: true,\n      onClick: function onClick() {\n        closeFlyout();\n        toggleOpen(true);\n      }\n    }, /*#__PURE__*/React.createElement(ListItemAvatar, null, /*#__PURE__*/React.createElement(Avatar, null, /*#__PURE__*/React.createElement(Settings, {\n      fontSize: \"large\"\n    }))), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Network\",\n      secondary: \"Users, Groups & Equipment\"\n    }));\n  };\n\n  var appSwitcherSolvedBottomContent = React.useCallback(function (closeFlyout) {\n    var _a;\n\n    var bottomContentProp = (_a = menuState === null || menuState === void 0 ? void 0 : menuState.appSwitcher) === null || _a === void 0 ? void 0 : _a.bottomContent;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, networkButton(closeFlyout), !!bottomContentProp && typeof bottomContentProp === \"function\" ? bottomContentProp(closeFlyout) : bottomContentProp);\n  }, [menuState.appSwitcher]);\n  var closeNetWorkItems = items.map(function (item) {\n    if (typeof item.onClick === \"function\") {\n      var originalOnClick = item.onClick;\n\n      item.onClick = function () {\n        originalOnClick();\n        toggleOpen(false);\n      };\n    } else {\n      item.onClick = function () {\n        toggleOpen(false);\n      };\n    }\n\n    return item;\n  });\n  return /*#__PURE__*/React.createElement(SideNav, {\n    variant: \"permanent\",\n    items: [].concat(_toConsumableArray(closeNetWorkItems), _toConsumableArray(myNetworkItems())),\n    width: width,\n    itemsVariant: \"minimal\",\n    paperProps: {\n      className: classes.leftNavBackground\n    },\n    topContent: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppSwitcher, Object.assign({}, menuState.appSwitcher, {\n      onError: handleOnError,\n      bottomContent: appSwitcherSolvedBottomContent,\n      language: menuState.language\n    })), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(List, null, /*#__PURE__*/React.createElement(ListItem, {\n      className: clsx(classes.userProfileContainer)\n    }, /*#__PURE__*/React.createElement(UserProfile, Object.assign({}, menuState.userProfile, {\n      onError: onError\n    }))))),\n    bottomContent: /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.legalBadge,\n      style: {\n        position: \"sticky\"\n      }\n    }, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(List, null, /*#__PURE__*/React.createElement(ListItem, {\n      style: {\n        justifyContent: \"center\"\n      }\n    }, !!compData ? /*#__PURE__*/React.createElement(ConnectedAppBadge, Object.assign({}, appBadge, {\n      variant: \"minimal\"\n    })) : /*#__PURE__*/React.createElement(AppBadge, Object.assign({}, appBadge, {\n      variant: \"minimal\"\n    })))))\n  });\n};\n\nLeftNav.propTypes = {\n  items: Proptypes.arrayOf(Proptypes.shape({\n    text: Proptypes.string,\n    icon: Proptypes.oneOfType([Proptypes.string, Proptypes.node]),\n    description: Proptypes.string,\n    onClick: Proptypes.func,\n    isSelected: Proptypes.bool,\n    isHidden: Proptypes.bool,\n    atBottom: Proptypes.bool\n  })),\n  width: Proptypes.number,\n  repoId: Proptypes.string.isRequired,\n  userProfile: Proptypes.shape({\n    userBadge: Proptypes.shape({\n      firstThanLastName: Proptypes.bool,\n      size: Proptypes.oneOf([\"small\", \"large\"]),\n      className: Proptypes.string,\n      userInfo: Proptypes.shape({\n        avatar: Proptypes.string,\n        firstName: Proptypes.string,\n        lastName: Proptypes.string,\n        displayName: Proptypes.string,\n        description: Proptypes.string\n      })\n    }),\n    showLegalBadge: Proptypes.bool,\n    legalBadge: Proptypes.shape({\n      size: Proptypes.string,\n      minimal: Proptypes.bool,\n      links: Proptypes.arrayOf(Proptypes.shape({\n        url: Proptypes.string,\n        display: Proptypes.string\n      })),\n      logo: Proptypes.node,\n      line1: Proptypes.string,\n      line2: Proptypes.string\n    }),\n    bottomContent: Proptypes.oneOfType([Proptypes.node, Proptypes.func]),\n    preferences: Proptypes.objectOf(Proptypes.shape({\n      type: Proptypes.oneOf([\"checkbox\", \"text\", \"select\"]),\n      label: Proptypes.string,\n      value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool]),\n      icon: Proptypes.node,\n      options: Proptypes.oneOfType([Proptypes.arrayOf(Proptypes.shape({\n        display: Proptypes.string,\n        value: Proptypes.string\n      })), Proptypes.shape({\n        on: Proptypes.shape({\n          text: Proptypes.string,\n          value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n        }),\n        off: Proptypes.shape({\n          text: Proptypes.string,\n          value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n        })\n      })])\n    })),\n    onPreferencesChange: Proptypes.func,\n    editable: Proptypes.bool,\n    logoutFromName: Proptypes.string,\n    loginRedirect: Proptypes.string,\n    onLogout: Proptypes.func\n  }),\n  appSwitcher: Proptypes.shape({\n    organization: Proptypes.string,\n    workspace: Proptypes.string,\n    showNavigation: Proptypes.bool,\n    onClick: Proptypes.func,\n    onChange: Proptypes.func,\n    onAddWorkspace: Proptypes.func,\n    bottomContent: Proptypes.oneOfType([Proptypes.node, Proptypes.func]),\n    showLegalBadge: Proptypes.bool,\n    legalBadge: Proptypes.shape({\n      size: Proptypes.string,\n      minimal: Proptypes.bool,\n      links: Proptypes.arrayOf(Proptypes.shape({\n        url: Proptypes.string,\n        display: Proptypes.string\n      })),\n      logo: Proptypes.node,\n      line1: Proptypes.string,\n      line2: Proptypes.string\n    })\n  }),\n  AppBadge: Proptypes.shape({\n    id: Proptypes.string,\n    title: Proptypes.string,\n    line1: Proptypes.string,\n    line2: Proptypes.string,\n    logo: Proptypes.node,\n    showPopup: Proptypes.bool\n  }),\n  useEllipsis: Proptypes.bool,\n  onError: Proptypes.func,\n  language: Proptypes.string\n};\nexport default LeftNav;","map":{"version":3,"sources":["../../../../src/components/LeftNav/index.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport Proptypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Settings from \"@material-ui/icons/Settings\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport { AppSwitcher, Users, Groups, UserProfile, AppBadge, ConnectedAppBadge, ComponentsDataContext, SideNav } from \"@esko/cloud-ui-components\";\nimport { Divider, List, ListItemText, ListItem, ListItemAvatar, Avatar } from \"@material-ui/core\";\nconst drawerWidth = 64;\nconst drawerCollapsedWidth = 50;\nexport const Variants = {\n    COLLAPSIBLE: \"collapsible\",\n    MINIMAL: \"minimal\"\n};\nconst validateAndDefaultNumber = (value, defaultValue) => (!isNaN(parseInt(value, 10)) ? parseInt(value, 10) : defaultValue);\nconst useStyles = makeStyles(theme => ({\n    drawer: props => ({\n        width: validateAndDefaultNumber(props.width || \"\", drawerWidth),\n        flexShrink: 0,\n        whiteSpace: \"break-word\",\n        position: \"relative\"\n    }),\n    drawerOpen: props => ({\n        width: validateAndDefaultNumber(props.width, drawerWidth),\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen\n        })\n    }),\n    itemsContainer: props => ({\n        display: \"flex\",\n        flexDirection: \"column\",\n        flex: 1\n    }),\n    legalBadge: {\n        bottom: 0,\n        backgroundColor: \"inherit\",\n        width: \"100%\"\n    },\n    leftNavBackground: {\n        backgroundColor: theme.palette.leftNavBackground || theme.palette.background.paper,\n        border: \"none\"\n    },\n    secondaryLeftNav: {\n        backgroundColor: theme.palette.leftNavBackground || theme.palette.background.paper,\n        border: \"none\",\n        borderLeft: \"1px solid\",\n        borderLeftColor: theme.palette.type === \"light\" ? theme.palette.grey[200] : theme.palette.action.selected\n    },\n    paperBackground: {\n        backgroundColor: theme.palette.type === \"light\" ? \"white\" : theme.palette.action.selected,\n        border: \"none\"\n    },\n    userProfileContainer: {\n        paddingBottom: 0,\n        paddingTop: 0,\n        justifyContent: \"center\"\n    }\n}));\nconst LeftNav = ({ items = [], width = 64, userProfile = {}, appSwitcher = {}, useEllipsis = true, appBadge = {}, repoId, onError, language }) => {\n    var _a, _b, _c, _d;\n    const userBadge = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.userBadge) || {};\n    const userInfo = ((_a = userProfile === null || userProfile === void 0 ? void 0 : userProfile.userBadge) === null || _a === void 0 ? void 0 : _a.userInfo) || {};\n    const showLegalBadge = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.showLegalBadge) || false;\n    const cloudLogout = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.cloudLogout) || false;\n    const bottomContent = userProfile === null || userProfile === void 0 ? void 0 : userProfile.bottomContent;\n    const classes = useStyles({ width });\n    const [open, setOpen] = useState(true);\n    const [menuState, setMenuState] = useState({\n        appSwitcher: appSwitcher,\n        userProfile: Object.assign(Object.assign({}, userProfile), { userBadge: Object.assign(Object.assign({}, userBadge), { userInfo: userInfo, variant: \"avatarOnly\" }), showLegalBadge,\n            cloudLogout,\n            bottomContent }),\n        language: \"\"\n    });\n    const compData = useContext(ComponentsDataContext);\n    /* context data kikcks in */\n    useEffect(() => {\n        if (!!compData) {\n            // a better overwrite method should be here\n            setMenuState(currMenuState => {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;\n                const newMenuState = Object.assign(Object.assign({}, currMenuState), { appSwitcher: Object.assign(Object.assign({}, currMenuState.appSwitcher), { organization: appSwitcher.organization || compData.organization || ((_b = (_a = compData === null || compData === void 0 ? void 0 : compData.users) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.organizationID) || \"\", workspace: appSwitcher.workspace || compData.workspace || \"\" }), userProfile: Object.assign(Object.assign({}, currMenuState.userProfile), { userBadge: Object.assign(Object.assign({}, currMenuState.userProfile.userBadge), { userInfo: {\n                                avatar: userInfo.avatar || ((_d = (_c = compData === null || compData === void 0 ? void 0 : compData.users) === null || _c === void 0 ? void 0 : _c.current) === null || _d === void 0 ? void 0 : _d.avatar),\n                                firstName: userInfo.firstName || ((_f = (_e = compData === null || compData === void 0 ? void 0 : compData.users) === null || _e === void 0 ? void 0 : _e.current) === null || _f === void 0 ? void 0 : _f.firstName),\n                                lastName: userInfo.lastName || ((_h = (_g = compData === null || compData === void 0 ? void 0 : compData.users) === null || _g === void 0 ? void 0 : _g.current) === null || _h === void 0 ? void 0 : _h.lastName),\n                                displayName: userInfo.displayName || ((_k = (_j = compData === null || compData === void 0 ? void 0 : compData.users) === null || _j === void 0 ? void 0 : _j.current) === null || _k === void 0 ? void 0 : _k.displayName),\n                                description: userInfo.description || ((_m = (_l = compData === null || compData === void 0 ? void 0 : compData.users) === null || _l === void 0 ? void 0 : _l.current) === null || _m === void 0 ? void 0 : _m.description),\n                                description: userInfo.description || ((_p = (_o = compData === null || compData === void 0 ? void 0 : compData.users) === null || _o === void 0 ? void 0 : _o.current) === null || _p === void 0 ? void 0 : _p.description)\n                            } }) }), language: language || ((_r = (_q = compData === null || compData === void 0 ? void 0 : compData.users) === null || _q === void 0 ? void 0 : _q.current) === null || _r === void 0 ? void 0 : _r.userLanguage) });\n                return newMenuState;\n            });\n        }\n        if (compData === null || compData === void 0 ? void 0 : compData.error) {\n            handleOnError(compData.error);\n        }\n    }, [compData]);\n    const handleOnError = error => {\n        var _a;\n        if (error && typeof onError === \"function\") {\n            const error = compData.error;\n            const contentType = (_a = error === null || error === void 0 ? void 0 : error.headers) === null || _a === void 0 ? void 0 : _a.get(\"content-type\");\n            const status = error.status;\n            console.log(error, contentType, status);\n            if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n                error.json().then(data => onError({ data, status }));\n            }\n            else if (error.text) {\n                error.text().then(data => onError({ data, status }));\n            }\n            else {\n                onError({ status, error });\n            }\n        }\n    };\n    useEffect(() => {\n        if (!!appSwitcher && Object.keys(appSwitcher).length) {\n            setMenuState(currMenuState => (Object.assign(Object.assign({}, currMenuState), { appSwitcher: Object.assign({}, appSwitcher) })));\n        }\n    }, [appSwitcher]);\n    useEffect(() => {\n        var _a;\n        if (!!userProfile && Object.keys(userProfile).length) {\n            const newUserProfile = !!userProfile ? userProfile : {};\n            const newUserBadge = (newUserProfile === null || newUserProfile === void 0 ? void 0 : newUserProfile.userBadge) ? newUserProfile.userBadge : {};\n            const newUserInfo = ((_a = newUserProfile === null || newUserProfile === void 0 ? void 0 : newUserProfile.userBadge) === null || _a === void 0 ? void 0 : _a.userInfo) ? newUserProfile.userBadge.userInfo : {};\n            setMenuState(currMenuState => {\n                const newState = Object.assign(Object.assign({}, currMenuState), { userProfile: Object.assign(Object.assign(Object.assign({}, currMenuState.userProfile), newUserProfile), { userBadge: Object.assign(Object.assign(Object.assign({}, currMenuState.userProfile.userBadge), newUserBadge), { userInfo: Object.assign(Object.assign({}, currMenuState.userProfile.userBadge.userInfo), newUserInfo), variant: \"avatarOnly\" }) }) });\n                return newState;\n            });\n        }\n    }, [userProfile]);\n    const calculatedRepoId = repoId ? repoId : (_c = (_b = compData === null || compData === void 0 ? void 0 : compData.users) === null || _b === void 0 ? void 0 : _b.current) === null || _c === void 0 ? void 0 : _c.repoid;\n    //we still need to consolidate props for this component now that it's components make more sense as separated components\n    const calculatedOrganization = (_d = menuState === null || menuState === void 0 ? void 0 : menuState.appSwitcher) === null || _d === void 0 ? void 0 : _d.organization;\n    const [networkOpen, setNetworkOpen] = React.useState({\n        open: false,\n        users: false,\n        groups: false\n    });\n    const toggleOpen = open => {\n        setNetworkOpen(currNetOpen => {\n            return open === currNetOpen.open\n                ? currNetOpen\n                : {\n                    open: open,\n                    users: open,\n                    groups: false\n                };\n        });\n    };\n    const toggleTabs = key => {\n        setNetworkOpen(currNetOpen => (Object.assign(Object.assign({}, currNetOpen), { users: false, groups: false, [key]: true })));\n    };\n    const myNetworkItems = React.useCallback(() => {\n        return [\n            {\n                isSelected: networkOpen.open,\n                nav: {\n                    width: 180,\n                    id: \"navOnly\",\n                    title: \"My Network\",\n                    itemsVariant: \"full\",\n                    paperProps: {\n                        className: classes.secondaryLeftNav\n                    },\n                    items: [\n                        {\n                            text: \"Users\",\n                            description: \"Manage Users\",\n                            isSelected: networkOpen.users,\n                            icon: React.createElement(PersonIcon, null),\n                            onClick: () => {\n                                toggleTabs(\"users\");\n                            },\n                            nav: {\n                                width: `calc(100vw - ${180 + width}px)`,\n                                id: \"navUsers\",\n                                paperProps: {\n                                    className: classes.paperBackground\n                                },\n                                topContent: React.createElement(Users, { repoId: calculatedRepoId, organization: calculatedOrganization, language: menuState.language })\n                            }\n                        },\n                        {\n                            text: \"Groups\",\n                            description: \"Manage Groups\",\n                            isSelected: networkOpen.groups,\n                            icon: React.createElement(GroupIcon, null),\n                            onClick: () => {\n                                toggleTabs(\"groups\");\n                            },\n                            nav: {\n                                width: `calc(100vw - ${180 + width}px)`,\n                                id: \"navUsers\",\n                                paperProps: {\n                                    className: classes.paperBackground\n                                },\n                                topContent: React.createElement(Groups, { repoId: calculatedRepoId, organization: calculatedOrganization, language: menuState.language })\n                            }\n                        }\n                    ]\n                }\n            }\n        ];\n    }, [compData, networkOpen]);\n    const networkButton = closeFlyout => (React.createElement(ListItem, { button: true, onClick: () => {\n            closeFlyout();\n            toggleOpen(true);\n        } },\n        React.createElement(ListItemAvatar, null,\n            React.createElement(Avatar, null,\n                React.createElement(Settings, { fontSize: \"large\" }))),\n        React.createElement(ListItemText, { primary: \"Network\", secondary: \"Users, Groups & Equipment\" })));\n    const appSwitcherSolvedBottomContent = React.useCallback(closeFlyout => {\n        var _a;\n        const bottomContentProp = (_a = menuState === null || menuState === void 0 ? void 0 : menuState.appSwitcher) === null || _a === void 0 ? void 0 : _a.bottomContent;\n        return (React.createElement(React.Fragment, null,\n            networkButton(closeFlyout),\n            !!bottomContentProp && typeof bottomContentProp === \"function\" ? bottomContentProp(closeFlyout) : bottomContentProp));\n    }, [menuState.appSwitcher]);\n    const closeNetWorkItems = items.map(item => {\n        if (typeof item.onClick === \"function\") {\n            const originalOnClick = item.onClick;\n            item.onClick = () => {\n                originalOnClick();\n                toggleOpen(false);\n            };\n        }\n        else {\n            item.onClick = () => {\n                toggleOpen(false);\n            };\n        }\n        return item;\n    });\n    return (React.createElement(SideNav, { variant: \"permanent\", items: [...closeNetWorkItems, ...myNetworkItems()], width: width, itemsVariant: \"minimal\", paperProps: {\n            className: classes.leftNavBackground\n        }, topContent: React.createElement(React.Fragment, null,\n            React.createElement(AppSwitcher, Object.assign({}, menuState.appSwitcher, { onError: handleOnError, bottomContent: appSwitcherSolvedBottomContent, language: menuState.language })),\n            React.createElement(Divider, null),\n            React.createElement(List, null,\n                React.createElement(ListItem, { className: clsx(classes.userProfileContainer) },\n                    React.createElement(UserProfile, Object.assign({}, menuState.userProfile, { onError: onError }))))), bottomContent: React.createElement(\"span\", { className: classes.legalBadge, style: { position: \"sticky\" } },\n            React.createElement(Divider, null),\n            React.createElement(List, null,\n                React.createElement(ListItem, { style: { justifyContent: \"center\" } }, !!compData ? React.createElement(ConnectedAppBadge, Object.assign({}, appBadge, { variant: \"minimal\" })) : React.createElement(AppBadge, Object.assign({}, appBadge, { variant: \"minimal\" }))))) }));\n};\nLeftNav.propTypes = {\n    items: Proptypes.arrayOf(Proptypes.shape({\n        text: Proptypes.string,\n        icon: Proptypes.oneOfType([Proptypes.string, Proptypes.node]),\n        description: Proptypes.string,\n        onClick: Proptypes.func,\n        isSelected: Proptypes.bool,\n        isHidden: Proptypes.bool,\n        atBottom: Proptypes.bool\n    })),\n    width: Proptypes.number,\n    repoId: Proptypes.string.isRequired,\n    userProfile: Proptypes.shape({\n        userBadge: Proptypes.shape({\n            firstThanLastName: Proptypes.bool,\n            size: Proptypes.oneOf([\"small\", \"large\"]),\n            className: Proptypes.string,\n            userInfo: Proptypes.shape({\n                avatar: Proptypes.string,\n                firstName: Proptypes.string,\n                lastName: Proptypes.string,\n                displayName: Proptypes.string,\n                description: Proptypes.string\n            })\n        }),\n        showLegalBadge: Proptypes.bool,\n        legalBadge: Proptypes.shape({\n            size: Proptypes.string,\n            minimal: Proptypes.bool,\n            links: Proptypes.arrayOf(Proptypes.shape({\n                url: Proptypes.string,\n                display: Proptypes.string\n            })),\n            logo: Proptypes.node,\n            line1: Proptypes.string,\n            line2: Proptypes.string\n        }),\n        bottomContent: Proptypes.oneOfType([Proptypes.node, Proptypes.func]),\n        preferences: Proptypes.objectOf(Proptypes.shape({\n            type: Proptypes.oneOf([\"checkbox\", \"text\", \"select\"]),\n            label: Proptypes.string,\n            value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool]),\n            icon: Proptypes.node,\n            options: Proptypes.oneOfType([\n                Proptypes.arrayOf(Proptypes.shape({\n                    display: Proptypes.string,\n                    value: Proptypes.string\n                })),\n                Proptypes.shape({\n                    on: Proptypes.shape({\n                        text: Proptypes.string,\n                        value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n                    }),\n                    off: Proptypes.shape({\n                        text: Proptypes.string,\n                        value: Proptypes.oneOfType([Proptypes.string, Proptypes.bool])\n                    })\n                })\n            ])\n        })),\n        onPreferencesChange: Proptypes.func,\n        editable: Proptypes.bool,\n        logoutFromName: Proptypes.string,\n        loginRedirect: Proptypes.string,\n        onLogout: Proptypes.func\n    }),\n    appSwitcher: Proptypes.shape({\n        organization: Proptypes.string,\n        workspace: Proptypes.string,\n        showNavigation: Proptypes.bool,\n        onClick: Proptypes.func,\n        onChange: Proptypes.func,\n        onAddWorkspace: Proptypes.func,\n        bottomContent: Proptypes.oneOfType([Proptypes.node, Proptypes.func]),\n        showLegalBadge: Proptypes.bool,\n        legalBadge: Proptypes.shape({\n            size: Proptypes.string,\n            minimal: Proptypes.bool,\n            links: Proptypes.arrayOf(Proptypes.shape({\n                url: Proptypes.string,\n                display: Proptypes.string\n            })),\n            logo: Proptypes.node,\n            line1: Proptypes.string,\n            line2: Proptypes.string\n        })\n    }),\n    AppBadge: Proptypes.shape({\n        id: Proptypes.string,\n        title: Proptypes.string,\n        line1: Proptypes.string,\n        line2: Proptypes.string,\n        logo: Proptypes.node,\n        showPopup: Proptypes.bool\n    }),\n    useEllipsis: Proptypes.bool,\n    onError: Proptypes.func,\n    language: Proptypes.string\n};\nexport default LeftNav;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}