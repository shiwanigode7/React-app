{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Select } from \"../Select/\";\nimport { fade, createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport { getOrganizations } from \"../../data/requests/iam\";\nimport { arrangeSitesByOrgWithAvailableApps, fetchAppSites } from \"../../data/requests/sites\";\nimport { sortArrayByStringProp } from \"../../utils/strings\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport AppBarInputBase from \"./appBarInputBase\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ConditionalWrapper from \"../../utils/ConditionalWrapper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { EskoLogo } from \"../../images/product-logos\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nvar useStyles = makeStyles(function (theme) {\n  var _search;\n\n  return createStyles({\n    appAnchor: {\n      textDecoration: \"none\",\n      color: \"inherit\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: \"inherit\"\n      }\n    },\n    hiddenOrganization: {\n      display: \"none\"\n    },\n    hiddenLogo: {\n      display: \"none\",\n      \"& + $defaultLogo\": {\n        display: \"flex\"\n      }\n    },\n    defaultLogo: {\n      display: \"none\",\n      transform: \"scale(1.2)\"\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120\n    },\n    appbar: {\n      backgroundColor: theme.palette.primary.main\n    },\n    accordion: {\n      margin: \"5px 0\"\n    },\n    sitesWrapper: {\n      backgroundColor: theme.palette.secondary.main\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    organizationSelect: {\n      backgroundColor: theme.palette.secondary.main,\n      \"&:focus\": {\n        backgroundColor: theme.palette.secondary.main\n      }\n    },\n    search: (_search = {\n      position: \"relative\",\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.secondary.main, 0.15),\n      \"&:hover\": {\n        backgroundColor: fade(theme.palette.secondary.main, 0.25)\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: \"100%\"\n    }, _defineProperty(_search, theme.breakpoints.up(\"sm\"), {\n      marginLeft: theme.spacing(3),\n      width: \"auto\"\n    }), _defineProperty(_search, \"display\", \"inline-flex\"), _search),\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: \"100%\",\n      position: \"absolute\",\n      pointerEvents: \"none\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    inputRoot: {\n      color: \"inherit\"\n    },\n    inputInput: _defineProperty({\n      padding: theme.spacing(1, 1, 1, 0),\n      paddingLeft: \"calc(1em + \".concat(theme.spacing(4), \"px)\"),\n      transition: theme.transitions.create(\"width\"),\n      width: \"100%\"\n    }, theme.breakpoints.up(\"md\"), {\n      width: \"20ch\"\n    }),\n    appBarInputsWrapper: {\n      display: \"flex\",\n      flexGrow: 1,\n      alignItems: \"center\"\n    }\n  });\n});\nvar LoadingBackdrop = withStyles({\n  root: {\n    position: \"absolute\",\n    zIndex: 1\n  }\n})(Backdrop);\n\nvar Sites = function Sites(props) {\n  var initComponentState = {\n    isFetching: true,\n    organizations: [],\n    workspaces: {}\n  };\n  var onError = props.onError,\n      onClick = props.onClick;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      filteredWorkspaceIds = _useState2[0],\n      setFilteredWorkspaceIds = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      organizationIdsHiddenByFilter = _useState4[0],\n      setOrganizationIdsHiddenByFilter = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showLoading = _useState6[0],\n      setShowLoading = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isRefreshing = _useState8[0],\n      setIsRefreshing = _useState8[1];\n\n  var _useState9 = useState(initComponentState),\n      _useState10 = _slicedToArray(_useState9, 2),\n      componentState = _useState10[0],\n      setComponentState = _useState10[1];\n\n  var isFetching = componentState.isFetching,\n      organizations = componentState.organizations,\n      workspaces = componentState.workspaces;\n\n  var _useState11 = useState({\n    organizationFilter: \"\",\n    workspaceFilter: \"\"\n  }),\n      _useState12 = _slicedToArray(_useState11, 2),\n      toolbarValues = _useState12[0],\n      setToolbarValues = _useState12[1];\n\n  var organizationFilter = toolbarValues.organizationFilter,\n      workspaceFilter = toolbarValues.workspaceFilter;\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      allOpen = _useState14[0],\n      setAllOpen = _useState14[1];\n\n  var _useState15 = useState({}),\n      _useState16 = _slicedToArray(_useState15, 2),\n      accordionOpenStates = _useState16[0],\n      setAccordionOpenStates = _useState16[1];\n\n  var classes = useStyles();\n  var toggleAllOpen = useCallback(function () {\n    var newOpenStates = {};\n\n    for (var organizationId in accordionOpenStates) {\n      newOpenStates[organizationId] = {\n        open: !allOpen\n      };\n    }\n\n    setAccordionOpenStates(newOpenStates);\n    setAllOpen(!allOpen);\n  }, [allOpen, accordionOpenStates]);\n  var toggleAccordion = useCallback(function (organizationId) {\n    return function (event, isExpanded) {\n      setAccordionOpenStates(function (prevState) {\n        return Object.assign(Object.assign({}, prevState), _defineProperty({}, organizationId, {\n          open: isExpanded\n        }));\n      });\n    };\n  }, []);\n  var getAllOrganizations = useCallback(function () {\n    setShowLoading(true);\n    setComponentState(function (prevState) {\n      return Object.assign(Object.assign({}, prevState), {\n        isFetching: true\n      });\n    });\n    getOrganizations().then(function (response) {\n      var data = Array.isArray(response.data) ? response.data.sort(sortArrayByStringProp(\"readableName\", \"ASC\")) : [];\n      var fetchedOrganizations = [];\n      var organizationIds = [];\n      var accordionOpenStates = {};\n      data.forEach(function (org) {\n        fetchedOrganizations.push({\n          repoid: org.repoid,\n          id: org.organizationID,\n          name: org.readableName,\n          workspaces: org.workspaces || 0\n        });\n        organizationIds.push(org.organizationID);\n        accordionOpenStates[org.organizationID] = {\n          open: true\n        };\n      });\n      setComponentState(function (prevState) {\n        return Object.assign(Object.assign({}, prevState), {\n          organizations: fetchedOrganizations\n        });\n      });\n      setAccordionOpenStates(accordionOpenStates);\n      getWorkspacesForOrganizations(organizationIds);\n    }, function (error) {\n      return typeof onError === \"function\" ? onError(error) : console.error(\"Erro while getting organizations\", error);\n    });\n  }, []);\n  var getWorkspacesForOrganizations = useCallback(function (organizationIds) {\n    fetchAppSites(organizationIds).then(function (results) {\n      var OrgWorkspaces = arrangeSitesByOrgWithAvailableApps(results);\n\n      for (var orgId in OrgWorkspaces) {\n        var organization = OrgWorkspaces[orgId];\n        organization.sort(sortArrayByStringProp(\"workspaceTitle\", \"ASC\"));\n      }\n\n      setComponentState(function (prevState) {\n        return Object.assign(Object.assign({}, prevState), {\n          workspaces: OrgWorkspaces,\n          isFetching: false\n        });\n      });\n      setShowLoading(false);\n    }, function (error) {\n      return typeof onError === \"function\" ? onError(error) : console.error(\"Erro while getting workspaces for organizations\", error);\n    });\n  }, []);\n  var filterWorkspaces = useCallback(function (event) {\n    var filterTerm = event.target.value;\n    var filteredWorkspaceIds = [];\n    var organizationIdsHiddenByFilter = [];\n\n    if (filterTerm) {\n      var _iterator = _createForOfIteratorHelper(organizations),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var organization = _step.value;\n\n          if (organization.workspaces == 0) {\n            organizationIdsHiddenByFilter.push(organization.id);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _loop = function _loop(organizationId) {\n        var matchingWorksapceIdsFound = [];\n        workspaces[organizationId].forEach(function (workspace) {\n          var termRegExp = new RegExp(filterTerm.trim(), \"i\");\n\n          if (termRegExp.test(workspace.workspaceTitle)) {\n            matchingWorksapceIdsFound.push(workspace.workspaceTitle);\n          }\n        });\n\n        if (matchingWorksapceIdsFound.length == 0) {\n          organizationIdsHiddenByFilter.push(organizationId);\n        } else {\n          filteredWorkspaceIds = filteredWorkspaceIds.concat(matchingWorksapceIdsFound);\n        }\n      };\n\n      for (var organizationId in workspaces) {\n        _loop(organizationId);\n      }\n    }\n\n    setToolbarValues(function (prevState) {\n      return Object.assign(Object.assign({}, prevState), {\n        workspaceFilter: filterTerm\n      });\n    });\n    setOrganizationIdsHiddenByFilter(organizationIdsHiddenByFilter);\n    setFilteredWorkspaceIds(filteredWorkspaceIds);\n  }, [workspaces]);\n\n  var selectOrganization = function selectOrganization(organizationId) {\n    setToolbarValues(function (prevState) {\n      return Object.assign(Object.assign({}, prevState), {\n        organizationFilter: organizationId,\n        workspaceFilter: \"\"\n      });\n    });\n    setOrganizationIdsHiddenByFilter([]);\n    setFilteredWorkspaceIds([]);\n  };\n\n  var onClickCallback = useCallback(function (props) {\n    var icon = props.icon,\n        key = props.key,\n        name = props.name,\n        workspace = props.workspace,\n        organizationId = props.organizationId,\n        urlFragment = props.urlFragment,\n        index = props.index;\n    var newAppURL = createAppURL({\n      key: key,\n      urlFragment: urlFragment\n    });\n    var organizationData = organizations.filter(function (organization) {\n      return organization.id == organizationId;\n    })[0];\n    onClick({\n      organization: organizationData,\n      workspace: workspaces[organizationId].filter(function (workspaceData) {\n        return workspaceData.workspace == workspace;\n      })[0],\n      app: Object.assign({}, props),\n      appURL: newAppURL\n    });\n  }, [organizations, workspaces]);\n\n  var createAppURL = function createAppURL(props) {\n    var key = props.key,\n        urlFragment = props.urlFragment;\n    var currentApp = window.location.host.split(\".\").splice(0, 1).join(\"\");\n    var appOrigin = window.location.origin.replace(currentApp, key);\n    var newAppURL = \"\".concat(appOrigin, \"/\").concat(urlFragment);\n    return newAppURL;\n  };\n\n  var LinkOrButton = function LinkOrButton(props) {\n    var icon = props.icon,\n        key = props.key,\n        name = props.name,\n        workspace = props.workspace,\n        organizationId = props.organizationId,\n        urlFragment = props.urlFragment,\n        index = props.index;\n    var linkProps = {\n      key: key,\n      title: name\n    };\n\n    if (typeof onClick == \"function\") {\n      var customCallbackProps = {\n        key: key,\n        urlFragment: urlFragment\n      };\n\n      linkProps.onClick = function () {\n        return onClickCallback(Object.assign({}, props));\n      };\n    }\n\n    var anchor = function anchor(children) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: \"anchor-\" + key + index,\n        style: {\n          lineHeight: 1\n        },\n        className: classes.appAnchor,\n        href: createAppURL({\n          key: key,\n          urlFragment: urlFragment\n        })\n      }, children);\n    };\n\n    var createLogo = function createLogo(props) {\n      var key = props.key,\n          icon = props.icon;\n      var currentApp = window.location.host.split(\".\").splice(0, 1).join(\"\");\n      var appOrigin = window.location.origin.replace(currentApp, key);\n      var appIconURL = \"\".concat(appOrigin, \"/\").concat(icon);\n\n      var setDefaultLogo = function setDefaultLogo(e) {\n        var elem = e.target;\n        elem.onerror = \"\";\n        elem.src = \"\";\n        elem.className = classes.hiddenLogo;\n        return true;\n      };\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n        width: 45,\n        height: 45,\n        src: appIconURL,\n        onError: setDefaultLogo\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: clsx(classes.defaultLogo)\n      }, \" \", /*#__PURE__*/React.createElement(EskoLogo, null), \" \"));\n    };\n\n    return /*#__PURE__*/React.createElement(ConditionalWrapper, {\n      key: \"conditional-\" + key + index,\n      condition: typeof onClick != \"function\",\n      wrapper: anchor\n    }, /*#__PURE__*/React.createElement(ListItem, Object.assign({\n      key: key + index,\n      button: true\n    }, linkProps), /*#__PURE__*/React.createElement(ListItemAvatar, null, /*#__PURE__*/React.createElement(Avatar, null, createLogo({\n      key: key,\n      icon: icon\n    }))), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: name\n    })));\n  };\n\n  var WorkspaceApps = function WorkspaceApps(props) {\n    var apps = props.apps,\n        organizationId = props.organizationId;\n    var appsMeta;\n\n    if (apps.length) {\n      appsMeta = apps.filter(function (app) {\n        return app;\n      }).sort(sortArrayByStringProp(\"name\", \"asc\"));\n    }\n\n    return /*#__PURE__*/React.createElement(List, null, appsMeta.length > 0 ? appsMeta.map(function (appMet, index) {\n      var buttonProps = Object.assign(Object.assign({}, appMet), {\n        organizationId: organizationId,\n        index: index\n      });\n      return LinkOrButton(Object.assign({}, buttonProps));\n    }) : /*#__PURE__*/React.createElement(ListItem, null, /*#__PURE__*/React.createElement(ListItemText, null, \"No workspaces were found\")));\n  };\n\n  var isSelectedOrganization = useCallback(function (organizationId) {\n    return Boolean(organizationFilter && organizationFilter !== organizationId);\n  }, [organizationFilter]);\n  var isFilteredWorkspace = useCallback(function (workspaceId) {\n    return Boolean(filteredWorkspaceIds.length && filteredWorkspaceIds.indexOf(workspaceId) == -1);\n  }, [filteredWorkspaceIds]);\n  var organizationHiddenByWorkspaceFilter = useCallback(function (organizationId) {\n    return Boolean(organizationIdsHiddenByFilter.length && organizationIdsHiddenByFilter.indexOf(organizationId) !== -1);\n  }, [organizationIdsHiddenByFilter]);\n  useEffect(function () {\n    if (isRefreshing) {\n      getAllOrganizations();\n      setIsRefreshing(false);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(Box, {\n    className: classes.sitesWrapper\n  }, !isFetching && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LoadingBackdrop, {\n    open: showLoading\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"inherit\"\n  })), /*#__PURE__*/React.createElement(AppBar, {\n    className: classes.appbar,\n    position: \"fixed\"\n  }, /*#__PURE__*/React.createElement(Toolbar, null, /*#__PURE__*/React.createElement(Box, {\n    className: classes.appBarInputsWrapper\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"organization-label\",\n    id: \"organizations\",\n    key: \"organizations-select\",\n    classes: {\n      root: classes.organizationSelect\n    },\n    displayEmpty: true,\n    value: organizationFilter,\n    input: /*#__PURE__*/React.createElement(AppBarInputBase, null),\n    onChange: function onChange(ev) {\n      return selectOrganization(ev.target.value);\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\"\n  }, \"All Organizations\"), organizations.map(function (organization) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      value: organization.id,\n      key: organization.id\n    }, organization.name);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.search\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.searchIcon\n  }, /*#__PURE__*/React.createElement(SearchIcon, null)), /*#__PURE__*/React.createElement(AppBarInputBase, {\n    placeholder: \"Filter Workspaces...\",\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    inputProps: {\n      \"aria-label\": \"filter\"\n    },\n    id: \"orgFilter\",\n    name: \"orgFilter\",\n    value: workspaceFilter,\n    onChange: filterWorkspaces\n  }))), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: toggleAllOpen,\n    edge: \"end\",\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\"\n  }, allOpen ? /*#__PURE__*/React.createElement(ExpandLessIcon, null) : /*#__PURE__*/React.createElement(ExpandMoreIcon, null)))), /*#__PURE__*/React.createElement(Toolbar, null), /*#__PURE__*/React.createElement(Box, null, organizations.length > 0 && organizations.map(function (organization, idx) {\n    var isHidden = isSelectedOrganization(organization.id) || organizationHiddenByWorkspaceFilter(organization.id);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Accordion, {\n      onChange: toggleAccordion(organization.id),\n      key: organization.id,\n      expanded: accordionOpenStates[organization.id].open,\n      className: clsx(classes.accordion, _defineProperty({}, classes.hiddenOrganization, isHidden))\n    }, /*#__PURE__*/React.createElement(AccordionSummary, {\n      expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, null),\n      \"aria-controls\": \"panel1a-content\",\n      id: \"panel1a-header\"\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\"\n    }, organization.name)), /*#__PURE__*/React.createElement(AccordionDetails, null, workspaces[organization.id] ? workspaces[organization.id].map(function (workspace, idx) {\n      var isHidden = isFilteredWorkspace(workspace.workspaceTitle);\n      var appsProps = Object.assign(Object.assign({}, workspace), {\n        organizationId: organization.id\n      });\n      return /*#__PURE__*/React.createElement(Card, {\n        variant: \"outlined\",\n        className: isHidden && classes.hiddenOrganization\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        titleTypographyProps: {\n          variant: \"h6\"\n        },\n        title: workspace.workspaceTitle ? workspace.workspaceTitle : \"\"\n      }), /*#__PURE__*/React.createElement(CardContent, null, /*#__PURE__*/React.createElement(WorkspaceApps, Object.assign({}, appsProps))));\n    }) : /*#__PURE__*/React.createElement(Typography, null, \"No Workspaces Found\"))));\n  }))));\n};\n\nexport default Sites;","map":{"version":3,"sources":["../../../../src/components/Sites/sites.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { Select } from \"../Select/\";\nimport { fade, createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport { getOrganizations } from \"../../data/requests/iam\";\nimport { arrangeSitesByOrgWithAvailableApps, fetchAppSites } from \"../../data/requests/sites\";\nimport { sortArrayByStringProp } from \"../../utils/strings\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport AppBarInputBase from \"./appBarInputBase\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ConditionalWrapper from \"../../utils/ConditionalWrapper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { EskoLogo } from \"../../images/product-logos\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nconst useStyles = makeStyles((theme) => createStyles({\n    appAnchor: {\n        textDecoration: \"none\",\n        color: \"inherit\",\n        \"&:hover\": {\n            textDecoration: \"none\",\n            color: \"inherit\"\n        }\n    },\n    hiddenOrganization: {\n        display: \"none\"\n    },\n    hiddenLogo: {\n        display: \"none\",\n        \"& + $defaultLogo\": {\n            display: \"flex\"\n        }\n    },\n    defaultLogo: {\n        display: \"none\",\n        transform: \"scale(1.2)\"\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120\n    },\n    appbar: {\n        backgroundColor: theme.palette.primary.main\n    },\n    accordion: {\n        margin: \"5px 0\"\n    },\n    sitesWrapper: {\n        backgroundColor: theme.palette.secondary.main\n    },\n    menuButton: {\n        marginRight: theme.spacing(2)\n    },\n    organizationSelect: {\n        backgroundColor: theme.palette.secondary.main,\n        \"&:focus\": {\n            backgroundColor: theme.palette.secondary.main\n        }\n    },\n    search: {\n        position: \"relative\",\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.secondary.main, 0.15),\n        \"&:hover\": {\n            backgroundColor: fade(theme.palette.secondary.main, 0.25)\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: \"100%\",\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: theme.spacing(3),\n            width: \"auto\"\n        },\n        display: \"inline-flex\"\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2),\n        height: \"100%\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    inputRoot: {\n        color: \"inherit\"\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        transition: theme.transitions.create(\"width\"),\n        width: \"100%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: \"20ch\"\n        }\n    },\n    appBarInputsWrapper: {\n        display: \"flex\",\n        flexGrow: 1,\n        alignItems: \"center\"\n    }\n}));\nconst LoadingBackdrop = withStyles({\n    root: {\n        position: \"absolute\",\n        zIndex: 1\n    }\n})(Backdrop);\nconst Sites = (props) => {\n    const initComponentState = {\n        isFetching: true,\n        organizations: [],\n        workspaces: {}\n    };\n    const { onError, onClick } = props;\n    const [filteredWorkspaceIds, setFilteredWorkspaceIds] = useState([]);\n    const [organizationIdsHiddenByFilter, setOrganizationIdsHiddenByFilter] = useState([]);\n    const [showLoading, setShowLoading] = useState(false);\n    const [isRefreshing, setIsRefreshing] = useState(true);\n    const [componentState, setComponentState] = useState(initComponentState);\n    const { isFetching, organizations, workspaces } = componentState;\n    const [toolbarValues, setToolbarValues] = useState({ organizationFilter: \"\", workspaceFilter: \"\" });\n    const { organizationFilter, workspaceFilter } = toolbarValues;\n    const [allOpen, setAllOpen] = useState(true);\n    const [accordionOpenStates, setAccordionOpenStates] = useState({});\n    const classes = useStyles();\n    const toggleAllOpen = useCallback(() => {\n        let newOpenStates = {};\n        for (const organizationId in accordionOpenStates) {\n            newOpenStates[organizationId] = { open: !allOpen };\n        }\n        setAccordionOpenStates(newOpenStates);\n        setAllOpen(!allOpen);\n    }, [allOpen, accordionOpenStates]);\n    const toggleAccordion = useCallback((organizationId) => (event, isExpanded) => {\n        setAccordionOpenStates(prevState => (Object.assign(Object.assign({}, prevState), { [organizationId]: {\n                open: isExpanded\n            } })));\n    }, []);\n    const getAllOrganizations = useCallback(() => {\n        setShowLoading(true);\n        setComponentState(prevState => (Object.assign(Object.assign({}, prevState), { isFetching: true })));\n        getOrganizations().then((response) => {\n            const data = Array.isArray(response.data) ? response.data.sort(sortArrayByStringProp(\"readableName\", \"ASC\")) : [];\n            let fetchedOrganizations = [];\n            let organizationIds = [];\n            let accordionOpenStates = {};\n            data.forEach((org) => {\n                fetchedOrganizations.push({\n                    repoid: org.repoid,\n                    id: org.organizationID,\n                    name: org.readableName,\n                    workspaces: org.workspaces || 0\n                });\n                organizationIds.push(org.organizationID);\n                accordionOpenStates[org.organizationID] = { open: true };\n            });\n            setComponentState(prevState => (Object.assign(Object.assign({}, prevState), { organizations: fetchedOrganizations })));\n            setAccordionOpenStates(accordionOpenStates);\n            getWorkspacesForOrganizations(organizationIds);\n        }, (error) => (typeof onError === \"function\" ? onError(error) : console.error(\"Erro while getting organizations\", error)));\n    }, []);\n    const getWorkspacesForOrganizations = useCallback((organizationIds) => {\n        fetchAppSites(organizationIds).then((results) => {\n            const OrgWorkspaces = arrangeSitesByOrgWithAvailableApps(results);\n            for (const orgId in OrgWorkspaces) {\n                const organization = OrgWorkspaces[orgId];\n                organization.sort(sortArrayByStringProp(\"workspaceTitle\", \"ASC\"));\n            }\n            setComponentState(prevState => (Object.assign(Object.assign({}, prevState), { workspaces: OrgWorkspaces, isFetching: false })));\n            setShowLoading(false);\n        }, (error) => typeof onError === \"function\" ? onError(error) : console.error(\"Erro while getting workspaces for organizations\", error));\n    }, []);\n    const filterWorkspaces = useCallback((event) => {\n        const filterTerm = event.target.value;\n        let filteredWorkspaceIds = [];\n        let organizationIdsHiddenByFilter = [];\n        if (filterTerm) {\n            for (const organization of organizations) {\n                if (organization.workspaces == 0) {\n                    organizationIdsHiddenByFilter.push(organization.id);\n                }\n            }\n            for (const organizationId in workspaces) {\n                let matchingWorksapceIdsFound = [];\n                workspaces[organizationId].forEach((workspace) => {\n                    const termRegExp = new RegExp(filterTerm.trim(), \"i\");\n                    if (termRegExp.test(workspace.workspaceTitle)) {\n                        matchingWorksapceIdsFound.push(workspace.workspaceTitle);\n                    }\n                });\n                if (matchingWorksapceIdsFound.length == 0) {\n                    organizationIdsHiddenByFilter.push(organizationId);\n                }\n                else {\n                    filteredWorkspaceIds = filteredWorkspaceIds.concat(matchingWorksapceIdsFound);\n                }\n            }\n        }\n        setToolbarValues(prevState => (Object.assign(Object.assign({}, prevState), { workspaceFilter: filterTerm })));\n        setOrganizationIdsHiddenByFilter(organizationIdsHiddenByFilter);\n        setFilteredWorkspaceIds(filteredWorkspaceIds);\n    }, [workspaces]);\n    const selectOrganization = (organizationId) => {\n        setToolbarValues(prevState => (Object.assign(Object.assign({}, prevState), { organizationFilter: organizationId, workspaceFilter: \"\" })));\n        setOrganizationIdsHiddenByFilter([]);\n        setFilteredWorkspaceIds([]);\n    };\n    const onClickCallback = useCallback((props) => {\n        const { icon, key, name, workspace, organizationId, urlFragment, index } = props;\n        const newAppURL = createAppURL({ key, urlFragment });\n        const organizationData = organizations.filter(organization => organization.id == organizationId)[0];\n        onClick({\n            organization: organizationData,\n            workspace: workspaces[organizationId].filter((workspaceData) => workspaceData.workspace == workspace)[0],\n            app: Object.assign({}, props),\n            appURL: newAppURL\n        });\n    }, [organizations, workspaces]);\n    const createAppURL = (props) => {\n        const { key, urlFragment } = props;\n        const currentApp = window.location.host\n            .split(\".\")\n            .splice(0, 1)\n            .join(\"\");\n        const appOrigin = window.location.origin.replace(currentApp, key);\n        const newAppURL = `${appOrigin}/${urlFragment}`;\n        return newAppURL;\n    };\n    const LinkOrButton = (props) => {\n        const { icon, key, name, workspace, organizationId, urlFragment, index } = props;\n        const linkProps = {\n            key: key,\n            title: name\n        };\n        if (typeof onClick == \"function\") {\n            const customCallbackProps = { key, urlFragment };\n            linkProps.onClick = () => onClickCallback(Object.assign({}, props));\n        }\n        const anchor = (children) => (React.createElement(\"a\", { key: \"anchor-\" + key + index, style: { lineHeight: 1 }, className: classes.appAnchor, href: createAppURL({ key, urlFragment }) }, children));\n        const createLogo = (props) => {\n            const { key, icon } = props;\n            const currentApp = window.location.host\n                .split(\".\")\n                .splice(0, 1)\n                .join(\"\");\n            const appOrigin = window.location.origin.replace(currentApp, key);\n            const appIconURL = `${appOrigin}/${icon}`;\n            const setDefaultLogo = (e) => {\n                const elem = e.target;\n                elem.onerror = \"\";\n                elem.src = \"\";\n                elem.className = classes.hiddenLogo;\n                return true;\n            };\n            return (React.createElement(React.Fragment, null,\n                React.createElement(\"img\", { width: 45, height: 45, src: appIconURL, onError: setDefaultLogo }),\n                React.createElement(\"span\", { className: clsx(classes.defaultLogo) },\n                    \" \",\n                    React.createElement(EskoLogo, null),\n                    \" \")));\n        };\n        return (React.createElement(ConditionalWrapper, { key: \"conditional-\" + key + index, condition: typeof onClick != \"function\", wrapper: anchor },\n            React.createElement(ListItem, Object.assign({ key: key + index, button: true }, linkProps),\n                React.createElement(ListItemAvatar, null,\n                    React.createElement(Avatar, null, createLogo({ key, icon }))),\n                React.createElement(ListItemText, { primary: name }))));\n    };\n    const WorkspaceApps = (props) => {\n        const { apps, organizationId } = props;\n        let appsMeta;\n        if (apps.length) {\n            appsMeta = apps.filter((app) => app).sort(sortArrayByStringProp(\"name\", \"asc\"));\n        }\n        return (React.createElement(List, null, appsMeta.length > 0 ? (appsMeta.map((appMet, index) => {\n            const buttonProps = Object.assign(Object.assign({}, appMet), { organizationId,\n                index });\n            return LinkOrButton(Object.assign({}, buttonProps));\n        })) : (React.createElement(ListItem, null,\n            React.createElement(ListItemText, null, \"No workspaces were found\")))));\n    };\n    const isSelectedOrganization = useCallback((organizationId) => {\n        return Boolean(organizationFilter && organizationFilter !== organizationId);\n    }, [organizationFilter]);\n    const isFilteredWorkspace = useCallback((workspaceId) => {\n        return Boolean(filteredWorkspaceIds.length && filteredWorkspaceIds.indexOf(workspaceId) == -1);\n    }, [filteredWorkspaceIds]);\n    const organizationHiddenByWorkspaceFilter = useCallback((organizationId) => {\n        return Boolean(organizationIdsHiddenByFilter.length && organizationIdsHiddenByFilter.indexOf(organizationId) !== -1);\n    }, [organizationIdsHiddenByFilter]);\n    useEffect(() => {\n        if (isRefreshing) {\n            getAllOrganizations();\n            setIsRefreshing(false);\n        }\n    }, []);\n    return (React.createElement(Box, { className: classes.sitesWrapper }, !isFetching && (React.createElement(React.Fragment, null,\n        React.createElement(LoadingBackdrop, { open: showLoading },\n            React.createElement(CircularProgress, { color: \"inherit\" })),\n        React.createElement(AppBar, { className: classes.appbar, position: \"fixed\" },\n            React.createElement(Toolbar, null,\n                React.createElement(Box, { className: classes.appBarInputsWrapper },\n                    React.createElement(Select, { labelId: \"organization-label\", id: \"organizations\", key: \"organizations-select\", classes: { root: classes.organizationSelect }, displayEmpty: true, value: organizationFilter, input: React.createElement(AppBarInputBase, null), onChange: (ev) => selectOrganization(ev.target.value) },\n                        React.createElement(MenuItem, { value: \"\" }, \"All Organizations\"),\n                        organizations.map(organization => (React.createElement(MenuItem, { value: organization.id, key: organization.id }, organization.name)))),\n                    React.createElement(\"div\", { className: classes.search },\n                        React.createElement(\"div\", { className: classes.searchIcon },\n                            React.createElement(SearchIcon, null)),\n                        React.createElement(AppBarInputBase, { placeholder: \"Filter Workspaces...\", classes: {\n                                root: classes.inputRoot,\n                                input: classes.inputInput\n                            }, inputProps: { \"aria-label\": \"filter\" }, id: \"orgFilter\", name: \"orgFilter\", value: workspaceFilter, onChange: filterWorkspaces }))),\n                React.createElement(IconButton, { onClick: toggleAllOpen, edge: \"end\", color: \"inherit\", \"aria-label\": \"open drawer\" }, allOpen ? React.createElement(ExpandLessIcon, null) : React.createElement(ExpandMoreIcon, null)))),\n        React.createElement(Toolbar, null),\n        React.createElement(Box, null, organizations.length > 0 &&\n            organizations.map((organization, idx) => {\n                const isHidden = isSelectedOrganization(organization.id) || organizationHiddenByWorkspaceFilter(organization.id);\n                return (React.createElement(React.Fragment, null,\n                    React.createElement(Accordion, { onChange: toggleAccordion(organization.id), key: organization.id, expanded: accordionOpenStates[organization.id].open, className: clsx(classes.accordion, { [classes.hiddenOrganization]: isHidden }) },\n                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null), \"aria-controls\": \"panel1a-content\", id: \"panel1a-header\" },\n                            React.createElement(Typography, { variant: \"h5\" }, organization.name)),\n                        React.createElement(AccordionDetails, null, workspaces[organization.id] ? (workspaces[organization.id].map((workspace, idx) => {\n                            const isHidden = isFilteredWorkspace(workspace.workspaceTitle);\n                            const appsProps = Object.assign(Object.assign({}, workspace), { organizationId: organization.id });\n                            return (React.createElement(Card, { variant: \"outlined\", className: isHidden && classes.hiddenOrganization },\n                                React.createElement(CardHeader, { titleTypographyProps: { variant: \"h6\" }, title: workspace.workspaceTitle ? workspace.workspaceTitle : \"\" }),\n                                React.createElement(CardContent, null,\n                                    React.createElement(WorkspaceApps, Object.assign({}, appsProps)))));\n                        })) : (React.createElement(Typography, null, \"No Workspaces Found\"))))));\n            }))))));\n};\nexport default Sites;\n//# sourceMappingURL=sites.js.map"]},"metadata":{},"sourceType":"module"}